# スナップショットテストを書こう

## 課題1

### スナップショットテストとは

システムの、ある時点での出力や状態を「スナップショット」として保存し、コードの変更によって（以前のスナップショットと比較して）スナップショットに変更が生じているかどうかを検出するテストのこと。

例えばReactにおいては、コンポーネントが生成するUIをスナップショットとして保存する。

### スナップショットテストで防ぐことができる不具合

- dom構造の修正が、想定よりも広い範囲にまで影響してしまうことによる不具合
- dom構造の修正が、想定よりも狭い範囲にしか影響していないことよる不具合（100個エラーが出るはずが、99個しか出てない、みたいな）
- dom要素に設定する属性が想定と異なっていることによる不具合

### スナップショットテストでは防げない不具合

- cssの修正（dom構造は変化しない）による不具合
- 要素をクリックしたりホバーしたときの振る舞いなどの、動きの不具合
- その他dom要素・構造以外の原因によって起こされる不具合

## 課題2

実装済み。下記の手順で動作確認可能。

```shell
yarn install --frozen-lockfile
yarn storybook
```

## 課題3

### クイズ1

スナップショットファイルはバージョン管理する必要があるか

<details>
  <summary>回答</summary>

  ある。

  アプリケーションのある時点でのあるべき姿として、スナップショットはバージョン管理されるべきである。

</details>

### クイズ2

 スナップショットテストとビジュアルリグレッションテストとで、出力されるファイルの違いは何か。

<details>
  <summary>回答</summary>

- スナップショットテスト … テキストファイル。出力された値（UI）をシリアライズしたテキストデータを比較する。
- ビジュアルリグレッションテスト … 画像ファイル。出力された値（UI）のスクリーンショットを取得し、ピクセル単位で比較する。

</details>

### クイズ3

<details>
  <summary>回答</summary>

</details>
